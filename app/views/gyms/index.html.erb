<div class="container">
  <h1> Nearby Gyms </h1>
    <div class="row p-3 d-flex justify-content-center">
      <div class="col-10">
        <%= simple_form_for :search, url: gyms_path, method: "GET" do |f| %>
          <%= f.input :styles, label: "Style",  collection: Gym::STYLE, as: :check_boxes, wrapper: :vertical_collection_inline %>
      </div>
      <div class="col-2">
          <%= f.submit "Search", class: "btn btn-primary" %>
          <%= link_to "Reset", gyms_path  %>
        <% end %>
      </div>
    </div>

  <div class="row">
    <% @gyms.each do |gym| %>
    <div class="col-xs-12 col-md-6 col-lg-4 mb-3">
      <div class="card-product rounded">
         <% if gym.photo.attached? %>
              <%= cl_image_tag gym.photo.key %>
            <% end %>
          <div class="card-product-infos w-100">
            <%= link_to gym_path(gym) do %>
              <h2> <%= gym.name %> </h2>
              <p> <%= gym.category %> </p>
              <p class="text-right"> Distance </p>
              <p class="text-right"> Rating </p>
            <% end %>
          </div>
      </div>
    </div>
    <% end %>
  </div>

  <div id="map"
     style="width: 100%; height: 600px;"
     data-markers="<%= @markers.to_json %>"
     data-mapbox-api-key="<%= ENV['MAPBOX_API_KEY'] %>">
  </div>

</div>
